<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Omniverse AI Tools Marketplace ‚Äî Zero-cost</title>
<style>
  :root{--bg:#071025;--card:#081425;--muted:#9fb0d9;--accent:#60a5fa;--danger:#ff6b6b}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:linear-gradient(180deg,var(--bg),#021029);color:#e6eef8}
  .wrap{max-width:1100px;margin:18px auto;padding:12px}
  header{display:flex;align-items:center;gap:12px}
  h1{margin:0;font-size:18px}
  .topline{color:var(--muted);font-size:13px}
  .grid{display:grid;grid-template-columns:320px 1fr;gap:14px;margin-top:12px}
  .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03);padding:12px;border-radius:10px}
  .tool-item{padding:8px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;gap:8px;cursor:pointer}
  .tool-item:hover{background:rgba(255,255,255,0.01)}
  .tool-title{font-weight:600}
  .muted{color:var(--muted);font-size:13px}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 8px;border-radius:8px;color:#e6eef8;cursor:pointer}
  .btn-primary{background:linear-gradient(90deg,var(--accent),#3b82f6);border:none;color:#04263a}
  textarea,input{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#e6eef8}
  pre{background:#021225;padding:10px;border-radius:8px;overflow:auto;color:#d8e8ff}
  .small{font-size:13px;color:var(--muted)}
  .stats{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .badge{background:rgba(255,255,255,0.03);padding:4px 8px;border-radius:999px;font-size:12px;color:var(--muted)}
  footer{margin-top:12px;color:var(--muted);font-size:13px}
  .owner-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .danger{border-color:rgba(255,107,107,0.18);color:var(--danger)}
  .locked{opacity:0.62}
  .tool-list{display:flex;flex-direction:column;gap:6px;margin-top:10px}
  .row{display:flex;gap:8px;align-items:center}
  .flex-1{flex:1}
  label.small{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
  .meta{font-size:12px;color:var(--muted);margin-top:6px}
  /* responsive */
  @media (max-width:820px){.grid{grid-template-columns:1fr;}.tool-list{flex-direction:row;overflow:auto;padding-bottom:8px}}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>Omniverse AI Tools Marketplace</h1>
      <div class="topline">Zero-cost ¬∑ Donation-ready ‚Äî Built for immediate launch</div>
    </div>
    <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
      <button class="btn" id="openDashboardBtn">Open Dashboard</button>
      <button class="btn" id="ownerSettingsBtn">Owner Settings</button>
    </div>
  </header>

  <div class="grid">
    <!-- LEFT: Tools list and stats -->
    <div>
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <strong>AI Tools</strong>
            <div class="small">‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§ü‡•Ç‡§≤ ‡§ï‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç, JSON input ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ Generate ‡§¶‡§¨‡§æ‡§è‡§Å‡•§</div>
          </div>
          <div class="small">Uses: <span id="totalUses">0</span> ‚Ä¢ Downloads: <span id="totalDownloads">0</span></div>
        </div>

        <div class="tool-list" id="toolsList" role="list">
          <!-- Filled by JS -->
        </div>

        <div class="meta">Donate / Pay ‚Äî owner settings ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§ü ‡§π‡•ã‡§Ç‡§ó‡•Ä‡•§</div>
        <div class="stats" id="donateLinksArea" style="margin-top:8px"></div>

        <div class="owner-actions" style="margin-top:12px">
          <button class="btn" id="resetStatsBtn">Reset Stats</button>
          <button class="btn" id="clearOwnerBtn">Clear Owner Settings</button>
        </div>
      </div>

      <div class="card" style="margin-top:12px">
        <strong>Quick Actions</strong>
        <div class="meta">Local-only: settings ‡§î‡§∞ stats localStorage ‡§Æ‡•á‡§Ç ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç ‚Äî GitHub ‡§™‡§∞ ‡§ï‡•ã‡§à secret ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§æ‡§π‡§ø‡§è‡•§</div>
        <div style="margin-top:8px">
          <button class="btn" id="showLocalStatsBtn">Open Dashboard (local stats)</button>
        </div>
      </div>
    </div>

    <!-- RIGHT: Tool editor / preview -->
    <div>
      <div class="card">
        <div style="display:flex;gap:8px;align-items:center">
          <div style="flex:1">
            <div style="display:flex;gap:8px;align-items:center">
              <h2 id="toolName">Select a tool</h2>
              <div class="badge" id="toolTag">‚Äî</div>
            </div>
            <div class="small" id="toolDesc">‡§ï‡§ø‡§∏‡•Ä ‡§ü‡•Ç‡§≤ ‡§ï‡•ã ‡§∏‡•Ç‡§ö‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ö‡•Å‡§®‡•á‡§Ç‡•§</div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <button class="btn" id="lockToggleBtn">üîí Unlock Premium</button>
            <button class="btn" id="generateBtn">Generate</button>
            <button class="btn" id="downloadBtn">‚¨áÔ∏è Download</button>
          </div>
        </div>

        <div style="margin-top:10px">
          <label class="small">Enter JSON input for the selected tool</label>
          <textarea id="jsonInput" rows="6" placeholder='{"name":"Your Name","field":"AI"}'></textarea>
          <div class="meta" style="margin-top:8px">Tip: ‡§ú‡§ø‡§§‡§®‡§æ structured JSON ‡§¶‡•á‡§Ç‡§ó‡•á output ‡§â‡§§‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§ó‡§æ‡•§</div>
        </div>

        <div style="margin-top:10px">
          <label class="small">AI output will appear here</label>
          <pre id="outputArea">Output will appear here...</pre>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn" id="clearOutputBtn">Clear</button>
            <button class="btn" id="copyOutputBtn">Copy</button>
            <div class="small" style="margin-left:auto">Downloads: <span id="toolDownloads">0</span> ‚Ä¢ Uses: <span id="toolUses">0</span></div>
          </div>
        </div>

      </div>

      <footer>
        ¬© <span id="year"></span> Omniverse Marketplace ‚Äî ‡§Ø‡•á ‡§∏‡§≠‡•Ä settings ‡§î‡§∞ stats ‡§Ü‡§™‡§ï‡•á ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡•á localStorage ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§
      </footer>
    </div>
  </div>
</div>

<!-- Owner Settings Modal (simple) -->
<div id="ownerModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.65);z-index:9999;align-items:center;justify-content:center">
  <div style="width:720px;max-width:94%;background:#061425;border-radius:10px;padding:14px;border:1px solid rgba(255,255,255,0.03)">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <strong>Owner Settings</strong>
      <button class="btn" id="closeOwnerModal">Close</button>
    </div>

    <div style="margin-top:8px">
      <label class="small">Unlock key (Premium tools ‡§ï‡§æ key ‚Äî ‡§ú‡§ø‡§§‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç)</label>
      <input id="ownerKey" placeholder="‡§â‡§¶‡§æ: my-super-key" />
    </div>

    <div style="margin-top:10px">
      <label class="small">Donation / Payment links (optional)</label>
      <input id="paytmLink" placeholder="Paytm / UPI link or text (‡§â‡§¶‡§æ: upi@bank)" />
      <input id="paypalLink" placeholder="PayPal link (‡§â‡§¶‡§æ: https://paypal.me/yourname)" style="margin-top:8px" />
      <input id="kofiLink" placeholder="Ko-fi / Buymeacoffee link" style="margin-top:8px" />
    </div>

    <div style="margin-top:10px;display:flex;gap:8px">
      <button class="btn btn-primary" id="saveOwnerBtn">Save Settings</button>
      <button class="btn danger" id="resetOwnerKeyBtn">Reset Unlock Key</button>
    </div>

    <div class="meta" style="margin-top:8px">Owner settings localStorage ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§ñ‡•á‡§Ç‡•§</div>
  </div>
</div>

<script>
/*
  Omniverse Marketplace ‚Äî Single-file client-side application
  All data stored in localStorage (settings + stats).
  Replace old index.html with this entire file to update.
*/

const yearEl = document.getElementById('year'); yearEl.textContent = new Date().getFullYear();

// Tools definition (templates)
const TOOLS = [
  {
    id: 'resume',
    name: 'Resume Generator',
    desc: 'Simple resume generator using provided JSON. Premium features: enhanced formatting & template variants.',
    premium: true,
    ext: 'txt',
    template: (data, premium=false) => {
      // simple resume template
      const lines = [];
      lines.push((data.name || 'NAME').toUpperCase());
      if (data.email) lines.push('Email: ' + data.email);
      if (data.phone) lines.push('Phone: ' + data.phone);
      lines.push('');
      lines.push('Field: ' + (data.field || '‚Äî'));
      if (data.summary) lines.push('');
      if (data.summary) lines.push('Summary: ' + data.summary);
      if (Array.isArray(data.experience)) {
        lines.push('');
        lines.push('Experience:');
        data.experience.forEach((e, i) => {
          lines.push(`‚Ä¢ ${e.role || 'Role'} @ ${e.company || 'Company'} (${e.years || ''})`);
          if (e.desc) lines.push('  ' + e.desc);
        });
      }
      if (Array.isArray(data.skills)) {
        lines.push('');
        lines.push('Skills: ' + data.skills.join(', '));
      }
      if (premium && data.templates && data.templateVariant) {
        lines.unshift('[Premium Template: ' + data.templateVariant + ']');
      }
      return lines.join('\\n');
    }
  },
  {
    id: 'bio',
    name: 'Bio Generator',
    desc: 'Short professional bio creation.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const name = data.name || 'Your Name';
      const field = data.field || 'your field';
      const years = data.years ? ` with ${data.years} years experience` : '';
      const tone = data.tone || 'professional';
      return `${name} is a ${tone} ${field}${years}. ${data.extra || ''}`.trim();
    }
  },
  {
    id: 'script',
    name: 'Script Writer',
    desc: 'Generate simple JS/Python script based on description.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const lang = (data.lang || 'js').toLowerCase();
      if (lang === 'py' || lang === 'python') {
        return `# Python script - ${data.title || 'script'}\\n# Description: ${data.desc || ''}\\n\\ndef main():\\n    print(\"Hello from Omniverse script\")\\n\\nif __name__ == '__main__':\\n    main()`;
      } else {
        return `// JS script - ${data.title || 'script'}\\n// Description: ${data.desc || ''}\\nfunction main(){\\n  console.log('Hello from Omniverse script');\\n}\\nmain();`;
      }
    }
  },
  {
    id: 'notes',
    name: 'Notes Generator',
    desc: 'Meeting / study notes based on bullets.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const title = data.title || 'Notes';
      const bullets = Array.isArray(data.bullets) ? data.bullets : (data.bullets? [data.bullets] : []);
      return `${title}\\n\\n${bullets.map(b=>'- '+b).join('\\n')}`;
    }
  },
  {
    id: 'site',
    name: 'Website Template',
    desc: 'Simple static HTML template (download as .html).',
    premium: true,
    ext: 'html',
    template: (data, premium=false) => {
      const title = data.title || 'My Site';
      const header = `<h1>${title}</h1>`;
      const body = `<p>${data.desc || 'A simple site generated by Omniverse.'}</p>`;
      let badge = '';
      if (premium) badge = '<!-- Premium template variant applied -->\\n';
      return `<!doctype html>\\n<html><head><meta charset="utf-8"><title>${title}</title></head><body>${badge}${header}${body}</body></html>`;
    }
  },
  {
    id: 'idea',
    name: 'Business Idea Generator',
    desc: 'Generate short startup ideas + 3 action steps.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const domain = data.domain || 'tech';
      const idea = `Idea: ${data.idea || `A ${domain}-based microservice that solves X for Y`}`;
      const steps = ['Validate demand', 'Build MVP', 'Get first customers'];
      return `${idea}\\n\\nSteps:\\n1. ${steps[0]}\\n2. ${steps[1]}\\n3. ${steps[2]}`;
    }
  },
  {
    id: 'legal',
    name: 'Legal Letter Generator',
    desc: 'Simple formal letter / notice.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const name = data.name || 'Sender';
      const to = data.to || 'Recipient';
      return `${name}\\nTo: ${to}\\n\\nSubject: ${data.subject || 'Formal Notice'}\\n\\n${data.body || 'Dear Sir/Madam,\\n\\nThis is to inform you...'}\\n\\nRegards,\\n${name}`;
    }
  },
  {
    id: 'caption',
    name: 'Social Caption Generator',
    desc: 'Short captions for social posts.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const tone = data.tone || 'friendly';
      return `${data.topic || 'A post'} ‚Äî ${tone} caption: ${data.extra || 'Share your story here.'}`;
    }
  },
  {
    id: 'slogan',
    name: 'Slogan Generator',
    desc: 'Brand slogan / tagline.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      const brand = data.brand || 'Brand';
      return `${brand} ‚Äî ${data.style || 'Bold. Simple. Memorable.'}`;
    }
  },
  {
    id: 'prompt',
    name: 'Prompt Generator',
    desc: 'Generate structured prompts for automation or AI agents.',
    premium: false,
    ext: 'txt',
    template: (data) => {
      return `Task: ${data.task || 'Describe task'}\\nPersona: ${data.persona || 'assistant'}\\nExample input: ${JSON.stringify(data.example || {})}`;
    }
  }
];

// localStorage keys
const LS = {
  STATS: 'omniverse_stats_v1',
  OWNER: 'omniverse_owner_v1'
};

// utilities
function lsRead(key){ try { return JSON.parse(localStorage.getItem(key) || 'null'); } catch(e){ return null; } }
function lsWrite(key, val){ localStorage.setItem(key, JSON.stringify(val)); }
function lsRemove(key){ localStorage.removeItem(key); }

// initialize stats structure
function initStatsIfMissing(){
  const s = lsRead(LS.STATS) || {};
  let changed = false;
  TOOLS.forEach(t => {
    if(!s[t.id]){ s[t.id] = { uses:0, downloads:0 }; changed = true; }
  });
  if(changed) lsWrite(LS.STATS, s);
  return s;
}

// get owner settings
function getOwner(){
  return lsRead(LS.OWNER) || { key:'', paytm:'', paypal:'', kofi:'' };
}
function saveOwner(obj){ lsWrite(LS.OWNER, obj); }

// UI elements
const toolsListEl = document.getElementById('toolsList');
const toolNameEl = document.getElementById('toolName');
const toolDescEl = document.getElementById('toolDesc');
const toolTagEl = document.getElementById('toolTag');
const jsonInputEl = document.getElementById('jsonInput');
const outputAreaEl = document.getElementById('outputArea');
const generateBtn = document.getElementById('generateBtn');
const downloadBtn = document.getElementById('downloadBtn');
const lockToggleBtn = document.getElementById('lockToggleBtn');
const ownerSettingsBtn = document.getElementById('ownerSettingsBtn');
const ownerModal = document.getElementById('ownerModal');
const closeOwnerModal = document.getElementById('closeOwnerModal');
const saveOwnerBtn = document.getElementById('saveOwnerBtn');
const ownerKeyInput = document.getElementById('ownerKey');
const paytmInput = document.getElementById('paytmLink');
const paypalInput = document.getElementById('paypalLink');
const kofiInput = document.getElementById('kofiLink');
const donateLinksArea = document.getElementById('donateLinksArea');
const resetStatsBtn = document.getElementById('resetStatsBtn');
const clearOwnerBtn = document.getElementById('clearOwnerBtn');
const openDashboardBtn = document.getElementById('openDashboardBtn');
const showLocalStatsBtn = document.getElementById('showLocalStatsBtn');
const copyOutputBtn = document.getElementById('copyOutputBtn');
const clearOutputBtn = document.getElementById('clearOutputBtn');
const totalUsesEl = document.getElementById('totalUses');
const totalDownloadsEl = document.getElementById('totalDownloads');
const toolUsesEl = document.getElementById('toolUses');
const toolDownloadsEl = document.getElementById('toolDownloads');
const toolTag = document.getElementById('toolTag');

let selectedTool = TOOLS[0];
let stats = initStatsIfMissing();
let owner = getOwner();
let unlocked = false;

// render tools list
function renderTools(){
  toolsListEl.innerHTML = '';
  TOOLS.forEach(t=>{
    const el = document.createElement('div');
    el.className = 'tool-item' + (t.premium && !unlocked ? ' locked' : '');
    el.innerHTML = `<div>
                      <div class="tool-title">${t.name}${t.premium ? ' üîí' : ''}</div>
                      <div class="small">${t.desc}</div>
                    </div>
                    <div style="text-align:right">
                      <div class="small">Uses: ${stats[t.id].uses}</div>
                      <div class="small">Dl: ${stats[t.id].downloads}</div>
                    </div>`;
    el.addEventListener('click', ()=>selectTool(t.id));
    toolsListEl.appendChild(el);
  });
  renderTotals();
}

// render donate links
function renderDonateLinks(){
  donateLinksArea.innerHTML = '';
  if(owner.paytm) {
    const b = document.createElement('div'); b.className='badge'; b.textContent='Paytm: '+owner.paytm; donateLinksArea.appendChild(b);
  }
  if(owner.paypal) {
    const b = document.createElement('div'); b.className='badge'; b.textContent='PayPal: '+owner.paypal; donateLinksArea.appendChild(b);
  }
  if(owner.kofi) {
    const b = document.createElement('div'); b.className='badge'; b.textContent='Ko-fi: '+owner.kofi; donateLinksArea.appendChild(b);
  }
  if(!owner.paytm && !owner.paypal && !owner.kofi){
    donateLinksArea.innerHTML = '<div class="muted">Pay links not set ‚Äî set in Owner Settings</div>';
  }
}

// select tool
function selectTool(id){
  const t = TOOLS.find(x=>x.id===id);
  if(!t) return;
  // if premium and not unlocked, still allow preview but mark locked
  selectedTool = t;
  toolNameEl.textContent = t.name;
  toolDescEl.textContent = t.desc;
  toolTagEl.textContent = t.premium ? 'Premium' : 'Free';
  jsonInputEl.value = t.example || JSON.stringify({ name: 'Your Name', field: 'AI' }, null, 2);
  outputAreaEl.textContent = 'Output will appear here...';
  toolUsesEl.textContent = stats[t.id].uses;
  toolDownloadsEl.textContent = stats[t.id].downloads;
  renderTools();
}

// parse JSON input safely
function parseInput(){
  const v = jsonInputEl.value.trim();
  if(!v) return {};
  try {
    return JSON.parse(v);
  } catch(e) {
    // try to treat as plain text -> put into { text: v }
    return { text: v };
  }
}

// generate output
function generateOutput(){
  const t = selectedTool;
  if(!t) return;
  if(t.premium && !unlocked){
    alert('‡§Ø‡§π ‡§ü‡•Ç‡§≤ Premium ‡§π‡•à ‚Äî Owner ‡§®‡•á unlock key ‡§∏‡•á‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ ‡§π‡•à ‡§Ø‡§æ ‡§Ü‡§™ unlock ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§è‡•§ Owner settings ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§ï‡§∞ key ‡§°‡§æ‡§≤‡•á‡§Ç‡•§');
    return;
  }
  const input = parseInput();
  let out;
  try {
    out = t.template(input, unlocked); // pass premium flag
  } catch(e) {
    out = 'Error generating output: ' + (e.message || e);
  }
  outputAreaEl.textContent = out;
  // update stats
  stats = lsRead(LS.STATS) || stats;
  stats[t.id] = stats[t.id] || { uses:0, downloads:0 };
  stats[t.id].uses += 1;
  lsWrite(LS.STATS, stats);
  toolUsesEl.textContent = stats[t.id].uses;
  renderTools();
  renderTotals();
}

// download output
function downloadOutput(){
  const t = selectedTool;
  if(!t) return;
  const content = outputAreaEl.textContent || '';
  if(!content) { alert('No output to download'); return; }
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = (t.name.replace(/\s+/g,'-').toLowerCase() || 'omni') + '.' + (t.ext || 'txt');
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
  // update downloads stat
  stats = lsRead(LS.STATS) || stats;
  stats[t.id] = stats[t.id] || { uses:0, downloads:0 };
  stats[t.id].downloads += 1;
  lsWrite(LS.STATS, stats);
  toolDownloadsEl.textContent = stats[t.id].downloads;
  renderTools();
  renderTotals();
}

// lock/unlock premium (owner view)
function toggleUnlockPrompt(){
  const k = prompt('Unlock key ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (owner ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§æ key):');
  if(!k) return;
  const s
