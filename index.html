<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Omniverse Marketplace ‚Äî Generator</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{--bg:#071025;--card:#081425;--muted:#9fb0d9;--accent:#60a5fa;--glass:rgba(255,255,255,0.03)}
  *{box-sizing:border-box}
  body{font-family:Inter,system-ui,Roboto,Arial;background:linear-gradient(180deg,var(--bg),#021029);color:#e6eef8;margin:0;padding:18px}
  .wrap{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr 420px;gap:16px}
  header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
  h1{font-size:18px;margin:0}
  .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid var(--glass);padding:12px;border-radius:10px}
  label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
  select,input,textarea,button{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
  textarea{min-height:160px;font-family:monospace;resize:vertical}
  .muted{color:var(--muted);font-size:13px}
  .row{display:flex;gap:8px}
  .col{flex:1}
  .controls{display:flex;gap:8px;align-items:center;margin-top:8px}
  .small{font-size:13px;padding:6px 8px}
  .btn-primary{background:linear-gradient(90deg,var(--accent),#3b82f6);border:none;color:#062244}
  .stats{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
  .badge{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:999px;font-size:13px;border:1px solid rgba(255,255,255,0.02)}
  .output{min-height:220px;white-space:pre-wrap;background:#061225;border-radius:8px;padding:12px;border:1px solid rgba(255,255,255,0.02);font-family:monospace}
  footer{margin-top:14px;color:var(--muted);font-size:13px}
  .owner-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .link{color:var(--accent);text-decoration:none}
  .modal{position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;z-index:9999}
  .modal .card{width:720px;max-width:92%}
  .right-panel{position:sticky;top:18px}
  @media (max-width:980px){.wrap{grid-template-columns:1fr;}.right-panel{position:static}}
</style>
</head>
<body>
<header>
  <div>
    <h1>Omniverse AI Tools Marketplace</h1>
    <div class="muted">Zero-cost ¬∑ Donation-ready ‚Äî Built for immediate launch</div>
  </div>
  <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
    <button id="openDashboard" class="small">Open Dashboard</button>
    <button id="ownerSettingsBtn" class="small">Owner Settings</button>
  </div>
</header>

<div class="wrap">
  <main class="card">
    <label>AI Tools</label>
    <div style="display:flex;gap:8px;align-items:center">
      <select id="toolSelect" aria-label="Select a tool">
        <!-- options injected by JS -->
      </select>
      <button id="unlockPremiumBtn" class="small">üîí Unlock Premium</button>
    </div>
    <div style="margin-top:10px" class="muted">‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§ü‡•Ç‡§≤ ‡§ï‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç, JSON input ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ <strong>Generate</strong> ‡§¶‡§¨‡§æ‡§è‡§Å‡•§</div>

    <div style="margin-top:12px;">
      <label>Enter JSON input for the selected tool</label>
      <textarea id="jsonInput" placeholder='{"name":"Your Name","field":"AI"}'></textarea>
      <div class="controls">
        <button id="generateBtn" class="btn-primary small">Generate</button>
        <button id="downloadBtn" class="small">‚¨áÔ∏è Download</button>
        <button id="copyBtn" class="small">Copy</button>
        <button id="clearBtn" class="small">Clear</button>
      </div>
    </div>

    <div style="margin-top:12px;">
      <label>AI output will appear here</label>
      <div id="outputBox" class="output">Output will appear here...</div>
      <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
        <div class="muted">Downloads: <span id="downloadsCount">0</span> ‚Ä¢ Uses: <span id="usesCount">0</span></div>
        <div style="margin-left:auto">
          <button id="resetStats" class="small">Reset Stats</button>
          <button id="clearOwner" class="small">Clear Owner Settings</button>
        </div>
      </div>
    </div>

    <footer>
      ¬© Omniverse Marketplace ‚Äî ‡§Ø‡•á ‡§∏‡§≠‡•Ä settings ‡§î‡§∞ stats ‡§Ü‡§™‡§ï‡•á ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡•á localStorage ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§ <br>
      Tip: ‡§ú‡§ø‡§§‡§®‡§æ structured JSON ‡§¶‡•á‡§Ç‡§ó‡•á output ‡§â‡§§‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§ó‡§æ‡•§
    </footer>
  </main>

  <aside class="right-panel">
    <div class="card">
      <strong>Quick Actions</strong>
      <div class="muted" style="margin-top:6px">Local-only: settings ‡§î‡§∞ stats localStorage ‡§Æ‡•á‡§Ç ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç ‚Äî GitHub ‡§™‡§∞ ‡§ï‡•ã‡§à secret ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§æ‡§π‡§ø‡§è‡•§</div>

      <div class="owner-actions" style="margin-top:10px">
        <button id="openLocalStats" class="small">Open Dashboard (local stats)</button>
        <button id="exportSettings" class="small">Export Settings</button>
        <button id="importSettings" class="small">Import Settings</button>
      </div>

      <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />
      <div>
        <strong>Donate / Pay</strong>
        <div class="muted" style="margin-top:6px">Owner settings ‡§Æ‡•á‡§Ç donate/pay links ‡§∞‡§ñ‡•á‡§Ç ‚Äî user ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§Ø‡§π‡§æ‡§Å ‡§¶‡•á‡§ñ‡•á‡§Ç‡§ó‡•á‡•§</div>
        <div id="donateArea" style="margin-top:8px"></div>
      </div>
    </div>

    <div style="height:12px"></div>

    <div class="card">
      <strong>Tools List</strong>
      <div id="toolsList" class="muted" style="margin-top:8px"></div>
    </div>
  </aside>
</div>

<!-- Owner settings modal -->
<div id="ownerModal" class="modal" style="display:none">
  <div class="card">
    <h3>Owner Settings</h3>
    <div class="muted">‡§Ø‡§π‡§æ‡§Å donations/owner contact ‡§î‡§∞ premium toggle ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç (localStorage)</div>
    <div style="margin-top:8px">
      <label>Owner Name</label>
      <input id="ownerName" placeholder="Your name or org" />
      <label style="margin-top:8px">PayPal Link / UPI / Ko-fi (comma separated)</label>
      <input id="ownerPay" placeholder="https://paypal.me/you,upi:your@upi,https://ko-fi.com/you" />
      <label style="margin-top:8px">Premium Enabled?</label>
      <select id="ownerPremium"><option value="no">no</option><option value="yes">yes</option></select>
      <div style="display:flex;gap:8px;margin-top:12px">
        <button id="saveOwner" class="btn-primary small">Save</button>
        <button id="closeOwner" class="small">Close</button>
      </div>
    </div>
    <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />
    <div class="muted">Export/Import settings available in dashboard panel.</div>
  </div>
</div>

<!-- Premium modal -->
<div id="premiumModal" class="modal" style="display:none">
  <div class="card">
    <h3>Premium / Unlock</h3>
    <div class="muted">Premium integration placeholder ‚Äî ‡§Ö‡§≠‡•Ä local demo ‡§Æ‡•á‡§Ç premium paid features ‡§ï‡•á‡§µ‡§≤ UI ‡§∏‡•ç‡§§‡§∞ ‡§™‡§∞ ‡§π‡•à‡§Ç‡•§</div>
    <div style="margin-top:10px;display:flex;gap:8px">
      <button id="closePremium" class="small">Close</button>
    </div>
  </div>
</div>

<script>
/* ============== Data: tools and templates ============== */
const TOOLS = [
  {
    id: 'resume',
    name: 'Resume Builder',
    desc: 'Simple one-page resume using provided fields.',
    template: (data) => {
      const name = data.name || 'Your Name';
      const title = data.title || data.field || 'Professional';
      const contact = data.contact || (data.email ? data.email : '');
      const summary = data.summary || `Experienced ${title} with interest in ${data.field || 'AI'}.`;
      const skills = (data.skills && Array.isArray(data.skills)) ? data.skills.join(', ') : (data.skills || '');
      const exp = (data.experience && Array.isArray(data.experience)) ?
        data.experience.map(e=>`- ${e.role} @ ${e.company} (${e.years || 'N/A'})\n  ${e.detail || ''}`).join('\n') : (data.experience||'');
      return `# ${name}\n${title}\n\nContact: ${contact}\n\n## Summary\n${summary}\n\n## Skills\n${skills}\n\n## Experience\n${exp}\n`;
    }
  },
  {
    id: 'bio',
    name: 'Bio Generator',
    desc: 'Short professional bio for LinkedIn / About pages.',
    template: (data) => {
      const name = data.name || 'Your Name';
      const role = data.role || data.field || 'AI Enthusiast';
      const years = data.years ? `${data.years} years` : '';
      const special = data.special || 'solving real problems with practical AI';
      return `${name} is a ${role} ${years ? 'with ' + years + ' experience' : ''} who focuses on ${special}. Available for collaborations and projects.`;
    }
  },
  {
    id: 'script',
    name: 'Script Writer',
    desc: 'Small JS snippet or script scaffold from prompt.',
    template: (data) => {
      const purpose = data.purpose || 'utility function';
      const name = (data.fnName || 'doThing').replace(/\s+/g,'_');
      const comment = data.comment || `Auto-generated ${purpose}`;
      return `// ${comment}\nfunction ${name}(){\n  // TODO: implement ${purpose}\n  return null;\n}\n\nmodule.exports = ${name};\n`;
    }
  },
  {
    id: 'notes',
    name: 'Notes Generator',
    desc: 'Meeting / study notes from bullets.',
    template: (data) => {
      const title = data.title || 'Notes';
      const bullets = (data.bullets && Array.isArray(data.bullets)) ? data.bullets.map(b=>`- ${b}`).join('\n') : (data.bullets || '');
      const summary = data.summary || '';
      return `# ${title}\n\n${bullets}\n\n## Summary\n${summary}\n`;
    }
  },
  {
    id: 'site',
    name: 'Website Template (Simple)',
    desc: 'Minimal static HTML landing page using provided brand and tagline.',
    template: (data) => {
      const brand = data.brand || 'MyProject';
      const tagline = data.tagline || 'Built with Omniverse';
      const color = data.color || '#60a5fa';
      return `<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n  <title>${brand}</title>\n  <style>body{font-family:Inter,Arial;background:#0b1220;color:#e6eef8}a{color:${color}}</style>\n</head>\n<body>\n  <header><h1>${brand}</h1><p>${tagline}</p></header>\n  <main><p>Welcome to ${brand} ‚Äî a simple static site scaffold generated by Omniverse.</p></main>\n  <footer><small>Generated with Omniverse Marketplace</small></footer>\n</body>\n</html>\n`;
    }
  }
];

/* ============== Local storage keys and helpers ============== */
const LS_STATS = 'omniverse_stats_v1';
const LS_OWNER = 'omniverse_owner_v1';

function loadStats(){ try{ return JSON.parse(localStorage.getItem(LS_STATS)) || {uses:0,downloads:0}; }catch(e){return {uses:0,downloads:0}} }
function saveStats(s){ localStorage.setItem(LS_STATS, JSON.stringify(s)); }
function loadOwner(){ try{ return JSON.parse(localStorage.getItem(LS_OWNER)) || {}; }catch(e){ return {}; } }
function saveOwner(o){ localStorage.setItem(LS_OWNER, JSON.stringify(o)); }

/* ============== UI elements ============== */
const toolSelect = document.getElementById('toolSelect');
const toolsList = document.getElementById('toolsList');
const jsonInput = document.getElementById('jsonInput');
const generateBtn = document.getElementById('generateBtn');
const downloadBtn = document.getElementById('downloadBtn');
const copyBtn = document.getElementById('copyBtn');
const clearBtn = document.getElementById('clearBtn');
const outputBox = document.getElementById('outputBox');
const usesCount = document.getElementById('usesCount');
const downloadsCount = document.getElementById('downloadsCount');
const donateArea = document.getElementById('donateArea');
const openDashboard = document.getElementById('openDashboard');
const ownerSettingsBtn = document.getElementById('ownerSettingsBtn');
const ownerModal = document.getElementById('ownerModal');
const ownerName = document.getElementById('ownerName');
const ownerPay = document.getElementById('ownerPay');
const ownerPremium = document.getElementById('ownerPremium');
const saveOwner = document.getElementById('saveOwner');
const closeOwner = document.getElementById('closeOwner');
const resetStats = document.getElementById('resetStats');
const clearOwner = document.getElementById('clearOwner');
const openLocalStats = document.getElementById('openLocalStats');
const exportSettings = document.getElementById('exportSettings');
const importSettings = document.getElementById('importSettings');
const toolsListDiv = document.getElementById('toolsList');
const unlockPremiumBtn = document.getElementById('unlockPremiumBtn');
const premiumModal = document.getElementById('premiumModal');
const closePremium = document.getElementById('closePremium');

/* ============== Initialize UI ============== */
function initTools(){
  toolSelect.innerHTML = '';
  toolsListDiv.innerHTML = '';
  TOOLS.forEach(t=>{
    const opt = document.createElement('option');
    opt.value = t.id;
    opt.textContent = t.name;
    toolSelect.appendChild(opt);

    const d = document.createElement('div');
    d.innerHTML = `<strong>${t.name}</strong><div class="muted">${t.desc}</div>`;
    toolsListDiv.appendChild(d);
  });
}
function refreshStatsUI(){
  const s = loadStats();
  usesCount.textContent = s.uses || 0;
  downloadsCount.textContent = s.downloads || 0;
}
function renderDonate(){
  const o = loadOwner();
  donateArea.innerHTML = '';
  if(o && o.pay){
    const items = o.pay.split(',').map(x=>x.trim()).filter(Boolean);
    items.forEach(it=>{
      // simple handling: if looks like url show link otherwise show as text
      const a = document.createElement('a');
      a.href = it.startsWith('http') ? it : '#';
      a.target = '_blank';
      a.className = 'link';
      a.textContent = it;
      donateArea.appendChild(a);
      donateArea.appendChild(document.createTextNode(' '));
    });
  } else {
    donateArea.innerHTML = `<div class="muted">No donate links set by owner.</div>`;
  }
}

/* ============== Core: generate from template ============== */
function parseJsonSafe(txt){
  if(!txt || !txt.trim()) return {};
  try{ return JSON.parse(txt); }catch(e){ return {__error: 'Invalid JSON: ' + e.message}; }
}

function generateOutput(toolId, inputObj){
  const tool = TOOLS.find(t=>t.id===toolId);
  if(!tool) return 'Tool not found.';
  try{
    if(inputObj && inputObj.__error) return inputObj.__error;
    return tool.template(inputObj || {});
  }catch(e){
    return 'Error generating output: ' + (e.message || e);
  }
}

/* ============== Actions ============== */
generateBtn.addEventListener('click', ()=>{
  const toolId = toolSelect.value;
  const parsed = parseJsonSafe(jsonInput.value);
  const out = generateOutput(toolId, parsed);
  outputBox.textContent = out;
  // update stats uses
  const s = loadStats(); s.uses = (s.uses||0) + 1; saveStats(s); refreshStatsUI();
});

copyBtn.addEventListener('click', async ()=>{
  try{
    await navigator.clipboard.writeText(outputBox.textContent || '');
    alert('Copied to clipboard');
  }catch(e){ alert('Copy failed: ' + e.message); }
});

downloadBtn.addEventListener('click', ()=>{
  const content = outputBox.textContent || '';
  const toolId = toolSelect.value || 'output';
  const filename = `${toolId}-${Date.now()}.txt`;
  const blob = new Blob([content], {type:'text/plain;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = filename;
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
  // update download stats
  const s = loadStats(); s.downloads = (s.downloads||0)+1; saveStats(s); refreshStatsUI();
});

clearBtn.addEventListener('click', ()=>{
  jsonInput.value = '';
  outputBox.textContent = 'Output will appear here...';
});

/* ============== Owner modal handlers ============== */
ownerSettingsBtn.addEventListener('click', ()=>{
  const o = loadOwner();
  ownerName.value = o.name || '';
  ownerPay.value = o.pay || '';
  ownerPremium.value = o.premium || 'no';
  ownerModal.style.display = 'flex';
});
closeOwner.addEventListener('click', ()=> ownerModal.style.display = 'none');
saveOwner.addEventListener('click', ()=>{
  const o = {name: ownerName.value.trim(), pay: ownerPay.value.trim(), premium: ownerPremium.value};
  saveOwner(o); ownerModal.style.display = 'none'; renderDonate();
  alert('Owner settings saved locally.');
});

/* ============== Reset / Import / Export ============== */
resetStats.addEventListener('click', ()=>{
  if(confirm('Reset all local stats?')){ saveStats({uses:0,downloads:0}); refreshStatsUI(); alert('Stats reset'); }
});
clearOwner.addEventListener('click', ()=>{
  if(confirm('Clear owner settings from this browser?')){ localStorage.removeItem(LS_OWNER); renderDonate(); alert('Owner settings cleared'); }
});
openLocalStats.addEventListener('click', ()=>{
  const s = loadStats(); alert('Local stats:\\nUses: ' + (s.uses||0) + '\\nDownloads: ' + (s.downloads||0));
});
exportSettings.addEventListener('click', ()=>{
  const data = {owner: loadOwner(), stats: loadStats(), tools: TOOLS.map(t=>({id:t.id,name:t.name}))};
  const blob = new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
  const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'omniverse-settings.json'; document.body.appendChild(a); a.click(); a.remove();
});
importSettings.addEventListener('click', ()=>{
  const input = prompt('Paste exported JSON here:');
  if(!input) return;
  try{
    const d = JSON.parse(input);
    if(d.owner) saveOwner(d.owner);
    if(d.stats) saveStats(d.stats);
    alert('Imported (owner & stats) into localStorage.');
    renderDonate(); refreshStatsUI();
  }catch(e){ alert('Invalid JSON: ' + e.message); }
});

/* ============== Unlock / Premium ============== */
unlockPremiumBtn.addEventListener('click', ()=>{
  premiumModal.style.display = 'flex';
});
closePremium.addEventListener('click', ()=> premiumModal.style.display = 'none');

/* ============== Startup ============== */
initTools();
refreshStatsUI();
renderDonate();

/* open dashboard button: show local stats quick */
openDashboard.addEventListener('click', ()=> {
  const s = loadStats();
  alert('Local Dashboard\\nUses: ' + (s.uses||0) + '\\nDownloads: ' + (s.downloads||0));
});

/* small convenience: prefill sample JSON for selected tool */
toolSelect.addEventListener('change', ()=>{
  const t = toolSelect.value;
  const sample = {
    resume: `{"name":"Amit Sharma","title":"Software Engineer","email":"amit@example.com","skills":["JavaScript","Node.js"],"experience":[{"role":"Dev","company":"X","years":"2019-2022","detail":"Worked on web apps"}]}`,
    bio: `{"name":"Anita Verma","role":"Data Scientist","years":"5","special":"building ML systems"}`,
    script: `{"purpose":"parse CSV and print summary","fnName":"parseCSV","comment":"CSV utility"}`,
    notes: `{"title":"Sprint Meeting","bullets":["Fix bug #12","Design review on Fri"],"summary":"Reviewed priorities"}`,
    site: `{"brand":"OmniSite","tagline":"Your AI playground","color":"#60a5fa"}`
  }[t] || '';
  jsonInput.value = sample;
});

/* Populate initial sample */
toolSelect.dispatchEvent(new Event('change'));

/* show owner donate area on load */
renderDonate();
</script>
</body>
                               </html>
      
