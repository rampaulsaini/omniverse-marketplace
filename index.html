<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Omniverse AI Tools Marketplace ‚Äî Demo</title>
  <meta name="description" content="Zero-cost Omniverse AI Tools Marketplace ‚Äî Hosted on GitHub Pages. Local-only settings & stats."/>
  <style>
    :root{--bg:#071025;--card:#081425;--muted:#9fb0d9;--accent:#60a5fa;--danger:#ff7b7b}
    html,body{height:100%;margin:0;padding:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;background:linear-gradient(180deg,#041025,#021029);color:#e6eef8}
    .wrap{max-width:1100px;margin:20px auto;padding:18px}
    header{display:flex;align-items:center;gap:12px}
    header h1{margin:0;font-size:20px}
    .top-meta{color:var(--muted);font-size:13px}
    .grid{display:grid;grid-template-columns:330px 1fr;gap:16px;margin-top:18px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.03);padding:12px;border-radius:10px}
    .tools-list{display:flex;flex-direction:column;gap:6px}
    .tool-item{display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);cursor:pointer}
    .tool-item.active{background:rgba(96,165,250,0.08);border-color:rgba(96,165,250,0.16)}
    .small{font-size:13px;color:var(--muted)}
    .muted{color:var(--muted)}
    textarea,input{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(0,0,0,0.08);color:#e6eef8;box-sizing:border-box}
    .row{display:flex;gap:8px}
    button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:#e6eef8;cursor:pointer}
    .primary{background:linear-gradient(90deg,var(--accent),#4f8fe6);border:none}
    .danger{background:linear-gradient(90deg,var(--danger),#ff5a5a);border:none}
    .output{min-height:160px;padding:12px;border-radius:8px;border:1px dashed rgba(255,255,255,0.03);background:rgba(255,255,255,0.01);white-space:pre-wrap}
    .meta-row{display:flex;justify-content:space-between;gap:8px;align-items:center;margin-top:8px}
    .owner-panel{margin-top:10px}
    .small-muted{font-size:12px;color:#aebfdc}
    .flex-between{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .settings-input{margin-top:8px}
    .badge{background:rgba(255,255,255,0.03);padding:4px 8px;border-radius:999px;font-size:12px}
    .center{display:flex;justify-content:center;align-items:center}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    nav .hint{font-size:13px;color:var(--muted);margin-top:6px}
    .tools-header{display:flex;justify-content:space-between;align-items:center}
    .lock{font-weight:700;color:#ffd27a}
    .tool-desc{font-size:13px;color:var(--muted);margin-top:6px}
    .stats-list{display:flex;flex-direction:column;gap:6px;margin-top:8px}
    .small-btn{padding:6px 8px;font-size:13px}
    .hidden{display:none}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} .tools-list{flex-direction:row;overflow:auto;padding-bottom:6px} .tool-item{min-width:220px} }
  </style>
</head>
<body>
  <div class="wrap card">
    <header>
      <div>
        <h1>Omniverse AI Tools Marketplace</h1>
        <div class="top-meta">Zero-cost ¬∑ Donation-ready ‚Äî ‡§∏‡§≠‡•Ä ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§î‡§∞ stats ‡§Ü‡§™‡§ï‡•á ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§Ç localStorage ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç</div>
      </div>
      <div style="margin-left:auto" class="center">
        <div class="badge" id="liveBadge">Local</div>
      </div>
    </header>

    <div class="grid">
      <!-- LEFT: Tools list & owner controls -->
      <div>
        <div class="card">
          <div class="tools-header">
            <strong>AI Tools</strong>
            <div class="small-muted">Tools: <span id="toolsCount">0</span></div>
          </div>
          <div class="tool-desc">‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§ü‡•Ç‡§≤ ‡§ï‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç, JSON input ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ <kbd>Generate</kbd> ‡§¶‡§¨‡§æ‡§è‡§Å‡•§</div>

          <div id="tools" class="tools-list" style="margin-top:10px"></div>

          <div style="margin-top:10px" class="small-muted">
            <div>Downloads: <span id="totalDownloads">0</span> ‚Ä¢ Uses: <span id="totalUses">0</span></div>
          </div>
        </div>

        <div class="card owner-panel">
          <strong>Owner Settings</strong>
          <div class="small-muted">‡§Ø‡§π ‡§∏‡§≠‡•Ä settings ‡§ï‡•á‡§µ‡§≤ ‡§Ü‡§™‡§ï‡•á ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§ï‡•ã‡§à secret GitHub ‡§™‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§≠‡•á‡§ú‡•á‡§Ç‡•§</div>

          <div class="settings-input">
            <label class="small-muted">Owner name</label>
            <input id="ownerName" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ (Owner)" />
          </div>

          <div class="settings-input">
            <label class="small-muted">Donate / Pay links (comma separated)</label>
            <input id="ownerDonate" placeholder="UPI/paypal/ko-fi links ‡§Ü‡§¶‡§ø" />
          </div>

          <div style="margin-top:8px;display:flex;gap:8px">
            <button id="saveSettings" class="small-btn primary">Save Settings</button>
            <button id="resetSettings" class="small-btn">Reset</button>
          </div>

          <hr style="margin:10px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">

          <div class="small-muted">Admin actions</div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="exportSettings" class="small-btn">Export Settings</button>
            <button id="importSettings" class="small-btn">Import Settings</button>
            <button id="resetStats" class="small-btn danger">Reset Stats</button>
          </div>

          <div style="margin-top:10px" class="small-muted">Premium: <span id="premiumStatus" class="lock">Locked</span></div>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button id="unlockPremium" class="small-btn">Unlock Premium</button>
            <button id="lockPremium" class="small-btn">Lock Premium</button>
          </div>

          <div style="margin-top:10px" class="small-muted">Donate (visible to users)</div>
          <div id="donateLinks" class="small-muted" style="margin-top:6px"></div>
        </div>
      </div>

      <!-- RIGHT: Tool UI and output -->
      <div>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>
              <strong id="currentToolName">‚Äî Select a tool ‚Äî</strong>
              <div id="currentToolDesc" class="small-muted">Tool description will appear here.</div>
            </div>
            <div>
              <button id="openDashboard" class="small-btn">Open Dashboard (local stats)</button>
            </div>
          </div>

          <div style="margin-top:12px">
            <label class="small-muted">Enter JSON input for the selected tool</label>
            <textarea id="jsonInput" rows="6" placeholder='{"name":"Your Name","field":"AI"}'></textarea>

            <div class="row" style="margin-top:8px">
              <button id="generateBtn" class="primary">Generate</button>
              <button id="downloadBtn">‚¨áÔ∏è Download</button>
              <button id="copyBtn">Copy</button>
              <button id="clearBtn">Clear</button>
            </div>

            <div class="meta-row">
              <div class="small-muted">AI output will appear here</div>
              <div class="small-muted">Tip: ‡§ú‡§ø‡§§‡§®‡§æ structured JSON ‡§¶‡•á‡§Ç‡§ó‡•á output ‡§â‡§§‡§®‡§æ ‡§¨‡•á‡§π‡§§‡§∞ ‡§π‡•ã‡§ó‡§æ‡•§</div>
            </div>
            <div id="output" class="output">Output will appear here...</div>

            <div class="meta-row" style="margin-top:8px">
              <div class="small-muted">Uses: <span id="toolUses">0</span> ‚Ä¢ Downloads: <span id="toolDownloads">0</span></div>
              <div class="small-muted">Reset Stats Clear Owner Settings</div>
            </div>

            <div style="margin-top:10px" class="small-muted">Quick Actions</div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="showSettings" class="small-btn">Show Owner Settings</button>
              <button id="exportStats" class="small-btn">Export Stats</button>
              <button id="importStats" class="small-btn">Import Stats</button>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <strong>Usage & Notes</strong>
          <div class="small-muted" style="margin-top:8px">
            ‡§Ø‡§π demo fully client-side ‡§π‡•à ‚Äî ‡§ï‡•ã‡§à external API ‡§®‡§π‡•Ä‡§Ç ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§§‡§æ‡•§ ‡§ú‡§¨ ‡§Ü‡§™ advanced AI ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç (OpenAI ‡§Ü‡§¶‡§ø), ‡§§‡•ã Owner Settings ‡§Æ‡•á‡§Ç API key ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡§æ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ú‡•ã‡§°‡§º‡§æ ‡§ú‡§æ ‡§∏‡§ï‡•á‡§ó‡§æ‡•§<br>
            ‡§∏‡§≠‡•Ä settings ‡§î‡§∞ stats ‡§ï‡•á‡§µ‡§≤ ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§∂‡•Ä‡§® ‡§™‡§∞ ‡§∞‡§π‡§§‡•á ‡§π‡•à‡§Ç ‚Äî ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ export ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á ‡§§‡•ã ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® GitHub ‡§™‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§¶‡§ø‡§ñ‡•á‡§Ç‡§ó‡•á‡•§
          </div>
        </div>
      </div>
    </div>

    <footer>
      ¬© Omniverse Marketplace ‚Äî localStorage ‡§Æ‡•á‡§Ç settings & stats‡•§ Deploy: GitHub Pages.
    </footer>
  </div>

  <script>
  /********************************************************************
   * Omniverse Marketplace ‚Äî single-file client-side engine
   * All data stored in localStorage. No external network calls.
   ********************************************************************/

  (function(){

    /* ---------- CONFIG / DEFAULTS ---------- */
    const SETTINGS_KEY = 'omniverse_settings_v1';
    const STATS_KEY = 'omniverse_stats_v1';
    const DEFAULT_SETTINGS = {
      ownerName: '',
      donateLinks: '',
      premiumUnlocked: false
    };

    const TOOLS = [
      { id: 'resume', name: 'Resume Builder', premium: false, desc: 'JSON ‡§Æ‡•á‡§Ç name, title, skills[], experience[] ‡§°‡§æ‡§≤‡•á‡§Ç ‚Äî resume ‡§¨‡§®‡•á‡§ó‡§æ.' },
      { id: 'bio', name: 'Bio Generator', premium: false, desc: 'Short/long bio ‡§¨‡§®‡§æ‡§è‡§Ç ‚Äî JSON: {name, role, tone}' },
      { id: 'script', name: 'Script Writer', premium: true, desc: 'Short JS/Python script generator ‚Äî JSON: {language, purpose, length}' },
      { id: 'notes', name: 'Notes Generator', premium: false, desc: 'Study/meeting notes ‚Äî JSON: {topic, points[]}' },
      { id: 'website', name: 'Website Template', premium: true, desc: 'Simple static HTML —à–∞–±–ª–æ–Ω ‚Äî JSON: {title, tagline, color}' },
      { id: 'idea', name: 'Business Idea', premium: false, desc: 'Startup idea generator ‚Äî JSON: {field, audience}' },
      { id: 'legal', name: 'Legal Letter', premium: true, desc: 'Simple formal letter ‚Äî JSON: {from, to, subject, body}' },
      { id: 'caption', name: 'Social Caption', premium: false, desc: 'Instagram/Twitter captions ‚Äî JSON: {topic, tone, length}' },
      { id: 'slogan', name: 'Slogan Generator', premium: false, desc: 'Brand slogans ‚Äî JSON: {brand, values}' },
      { id: 'prompt', name: 'Task Prompt Generator', premium: false, desc: 'Prompts for AI automations ‚Äî JSON: {task, detail}' }
    ];

    /* ---------- UTIL ---------- */
    function $(id){ return document.getElementById(id); }
    function saveSettings(s){ localStorage.setItem(SETTINGS_KEY, JSON.stringify(s)); }
    function loadSettings(){ try{ return JSON.parse(localStorage.getItem(SETTINGS_KEY)) || {...DEFAULT_SETTINGS}; } catch(e){ return {...DEFAULT_SETTINGS}; } }
    function saveStats(st){ localStorage.setItem(STATS_KEY, JSON.stringify(st)); }
    function loadStats(){ try{ return JSON.parse(localStorage.getItem(STATS_KEY)) || {}; } catch(e){ return {}; } }
    function downloadFile(filename, text){ const blob = new Blob([text],{type:'text/plain'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = filename; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); }
    function prettyJSON(obj){ try{ return JSON.stringify(JSON.parse(obj), null, 2); } catch(e){ return obj; } }

    /* ---------- DB (localStorage) ---------- */
    let SETTINGS = loadSettings();
    let STATS = loadStats(); // structure: { toolId: {uses:0, downloads:0} }

    function ensureStatsForTool(id){ if(!STATS[id]) STATS[id] = { uses:0, downloads:0 }; }

    /* ---------- RENDER UI ---------- */
    function renderTools(){
      const toolsEl = $('tools'); toolsEl.innerHTML = '';
      TOOLS.forEach(t => {
        const div = document.createElement('div');
        div.className = 'tool-item' + (selectedTool && selectedTool.id === t.id ? ' active':'' );
        div.dataset.id = t.id;
        let lockBadge = t.premium && !SETTINGS.premiumUnlocked ? ' <span class="badge lock">üîí</span>' : '';
        div.innerHTML = `<div style="display:flex;gap:8px;align-items:center"><strong>${t.name}</strong>${lockBadge}<div class="small-muted" style="margin-left:6px;font-size:12px">${t.premium ? 'premium' : ''}</div></div>
                         <div style="font-size:12px;color:var(--muted)">${t.desc}</div>`;
        div.addEventListener('click', ()=> selectTool(t.id));
        toolsEl.appendChild(div);
      });
      $('toolsCount').textContent = TOOLS.length;
      renderTotals();
    }

    function renderOwnerSettingsUI(){
      $('ownerName').value = SETTINGS.ownerName || '';
      $('ownerDonate').value = SETTINGS.donateLinks || '';
      $('donateLinks').innerHTML = renderDonateLinksHTML(SETTINGS.donateLinks);
      $('premiumStatus').textContent = SETTINGS.premiumUnlocked ? 'Unlocked' : 'Locked';
      $('liveBadge').textContent = 'Local';
    }

    function renderDonateLinksHTML(links){
      if(!links) return '<span class="small-muted">No donate links set</span>';
      return links.split(',').map(l => {
        const url = l.trim();
        if(!url) return '';
        try{
          const u = new URL(url);
          return `<div><a href="${u.toString()}" target="_blank">${u.hostname}</a></div>`;
        }catch(e){
          return `<div>${url}</div>`;
        }
      }).join('');
    }

    function renderTotals(){
      let totalUses = 0, totalDownloads = 0;
      TOOLS.forEach(t => { ensureStatsForTool(t.id); totalUses += (STATS[t.id].uses||0); totalDownloads += (STATS[t.id].downloads||0); });
      $('totalUses').textContent = totalUses;
      $('totalDownloads').textContent = totalDownloads;
      if(selectedTool){ $('toolUses').textContent = STATS[selectedTool.id].uses || 0; $('toolDownloads').textContent = STATS[selectedTool.id].downloads || 0; }
    }

    /* ---------- SELECT TOOL ---------- */
    let selectedTool = null;
    function selectTool(id){
      const t = TOOLS.find(x=>x.id===id);
      if(!t) return;
      // if premium and locked, show badge & message
      if(t.premium && !SETTINGS.premiumUnlocked){
        const unlock = confirm('‡§Ø‡§π premium tool ‡§π‡•à‡•§ Owner settings ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§ï‡§∞ Premium unlock ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç. ‡§Ö‡§≠‡•Ä ‡§≠‡•Ä proceed ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?');
        if(!unlock) return;
      }
      selectedTool = t;
      $('currentToolName').textContent = t.name;
      $('currentToolDesc').textContent = t.desc + (t.premium ? ' ‚Ä¢ Premium' : '');
      $('jsonInput').value = defaultJSONForTool(t.id);
      renderTools();
      renderTotals();
    }

    function defaultJSONForTool(id){
      const examples = {
        resume: JSON.stringify({ name: "‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ", title: "Software Engineer", summary: "2 ‡§∏‡§æ‡§≤ ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§≠‡§µ", skills: ["JS","Python"], experience: [{company:"X",role:"Engineer",years:1}] }, null, 2),
        bio: JSON.stringify({ name:"‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ", role:"AI Researcher", tone:"professional", length:"short" }, null, 2),
        script: JSON.stringify({ language:"javascript", purpose:"small utility to parse CSV", length:"short" }, null, 2),
        notes: JSON.stringify({ topic:"Machine Learning", points:["Definition","Supervised vs Unsupervised","Example"] }, null, 2),
        website: JSON.stringify({ title:"Omniverse", tagline:"AI marketplace", color:"#60a5fa" }, null, 2),
        idea: JSON.stringify({ field:"education", audience:"college students" }, null, 2),
        legal: JSON.stringify({ from:"Sender Name", to:"Receiver Name", subject:"Notice", body:"Hereby..." }, null, 2),
        caption: JSON.stringify({ topic:"sunset photography", tone:"poetic", length:"short" }, null, 2),
        slogan: JSON.stringify({ brand:"Omniverse", values:["AI","automation","scale"] }, null, 2),
        prompt: JSON.stringify({ task:"generate social captions", detail:"for Instagram reels about productivity" }, null, 2)
      };
      return examples[id] || '{}';
    }

    /* ---------- TOOL GENERATORS (template-based, zero-cost) ---------- */
    function generateForTool(id, inputObj){
      // All outputs are strings. Use templates to give value.
      try{
        switch(id){
          case 'resume': return genResume(inputObj);
          case 'bio': return genBio(inputObj);
          case 'script': return genScript(inputObj);
          case 'notes': return genNotes(inputObj);
          case 'website': return genWebsite(inputObj);
          case 'idea': return genIdea(inputObj);
          case 'legal': return genLegal(inputObj);
          case 'caption': return genCaption(inputObj);
          case 'slogan': return genSlogan(inputObj);
          case 'prompt': return genPrompt(inputObj);
          default: return 'Unknown tool';
        }
      }catch(e){
        return 'Error generating output: ' + (e.message || e);
      }
    }

    // Generators (simple but practical)
    function genResume(d){
      const n = d.name || 'Name', title = d.title || d.role || 'Professional', summary = d.summary || '', skills = Array.isArray(d.skills)? d.skills.join(', '): d.skills || '';
      const exp = Array.isArray(d.experience)? d.experience.map(e=>`- ${e.company || e.org} ‚Äî ${e.role || e.title || ''} (${e.years || ''} yrs)\n`).join('') : '';
      return `=== ${n} ‚Äî ${title} ===\n\nSummary:\n${summary}\n\nSkills:\n${skills}\n\nExperience:\n${exp}\n\nContact:\nEmail: ${d.email || 'your@email.com'} | Phone: ${d.phone || ''}\n`;
    }

    function genBio(d){
      const n = d.name || 'Name', role = d.role || 'Professional', tone = d.tone || 'professional', len = d.length || 'short';
      if(len === 'long') return `${n} is a ${role} with expertise in ${d.area || 'their field'}. Known for ${d.known || 'delivering results'}.`;
      if(tone === 'casual') return `${n} ‚Äî ${role}. Loves building things and learning.`;
      return `${n} is a ${role} skilled in ${d.skills? (Array.isArray(d.skills)? d.skills.join(', ') : d.skills) : 'relevant technologies'}.`;
    }

    function genScript(d){
      const lang = (d.language||'javascript').toLowerCase();
      const purpose = d.purpose || 'utility';
      if(lang.includes('js') || lang.includes('javascript')){
        return `// Generated JS snippet ‚Äî purpose: ${purpose}\nfunction example(data){\n  // modify as needed\n  return data.split('\\n').map(l=>l.trim()).filter(Boolean);\n}\n`;
      } else if(lang.includes('py') || lang.includes('python')){
        return `# Generated Python snippet ‚Äî purpose: ${purpose}\ndef example(data):\n    return [l.strip() for l in data.split('\\n') if l.strip()]\n`;
      } else {
        return `// Generated ${lang} snippet ‚Äî purpose: ${purpose}\n// Customize as needed\n`;
      }
    }

    function genNotes(d){
      const topic = d.topic || 'Topic';
      const points = Array.isArray(d.points) ? d.points : (d.points ? [d.points] : []);
      let out = `Notes ‚Äî ${topic}\n\n`;
      points.forEach((p,i)=> out += `${i+1}. ${p}\n`);
      if(d.summary) out += `\nSummary:\n${d.summary}\n`;
      return out;
    }

    function genWebsite(d){
      const title = d.title || 'My Site', tagline = d.tagline || '', color = d.color || '#60a5fa';
      return `<!doctype html>\n<html>\n<head>\n<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">\n<title>${title}</title>\n<style>body{font-family:Inter,Arial;background:#fff;color:#111}header{background:${color};color:#fff;padding:20px;text-align:center}</style>\n</head>\n<body>\n<header><h1>${title}</h1><p>${tagline}</p></header>\n<main><section><h2>About</h2><p>Replace this with your content.</p></section></main>\n</body>\n</html>`;
    }

    function genIdea(d){
      const field = d.field || 'a f
